# config.py
import os

# =========================
# 1. 경로 설정 (Path Configuration)
# =========================
# 기본 데이터(csv)들이 모여 있는 루트 폴더 경로
BASE_PATH = r"C:\Users\jongs\Downloads\LOF_dev (2)\LOF_dev\common_csv"

# 분석 결과(Region 폴리곤, 샘플 포인트 등)를 저장할 폴더 경로
# (폴더가 없으면 코드 실행 시 자동으로 생성됨)
OUTPUT_DIR = r"C:\Users\jongs\Downloads\LOF_dev (2)\LOF_dev\output_region"
os.makedirs(OUTPUT_DIR, exist_ok=True)

# 분석할 원본 데이터 파일 (머무름 지점 좌표가 들어있는 CSV)
STAY_POINT_FILE = os.path.join(BASE_PATH, "stay_points.csv")


# =========================
# 2. DBSCAN 파라미터 (Clustering)
# 점들을 묶어서 그룹(Region)으로 만들 때 사용하는 기준
# =========================
# [탐색 반경]
# 점 A를 기준으로 반경 200m 안에 점 B가 있으면 같은 그룹 후보로 봅니다.
# 값이 크면: 멀리 떨어진 점들도 같은 그룹으로 묶임 (영역이 거대해짐)
# 값이 작으면: 아주 가까운 점들만 묶임 (영역이 자잘하게 쪼개짐)
EPSILON_M = 200

# [최소 포인트 개수]
# 반경(EPSILON) 내에 최소 2개의 점이 있어야 하나의 '군집(Cluster)'으로 인정합니다.
# 2개 미만이면 노이즈(Noise, -1)로 처리되거나 1점짜리 영역이 됩니다.
MIN_SAMPLES = 2


# =========================
# 3. 폴리곤 형상 파라미터 (Shape & Geometry)
# 그룹화된 점들을 감싸는 도형(면)을 그릴 때 사용하는 설정
# =========================
# [1점 원 기본 반경]
# 점이 딱 1개(또는 노이즈)일 때, 그 점을 중심으로 그릴 원의 기본 반지름(m)입니다.
BASE_RADIUS = 50.0

# [추가 버퍼]
# 생성된 모든 도형(원, 타원, 다각형) 테두리에 공통적으로 추가할 여유 공간(m)입니다.
# 예: 1점 원의 최종 반지름 = BASE_RADIUS(50) + EXTRA_BUFFER(20) = 70m
EXTRA_BUFFER = 20.0

# [곡선 해상도]
# 원이나 둥근 모서리를 그릴 때 몇 개의 직선으로 쪼개서 표현할지 결정합니다.
# 값이 클수록: 원이 매끄러워지지만, 데이터 용량이 커지고 계산이 느려짐.
# 값이 작으면: 원이 각져 보임 (8각형, 16각형 등). 32 정도면 충분히 매끄러움.
ROUND_RES = 32


# =========================
# 4. 샘플링 파라미터 (Random Point Sampling)
# 만들어진 영역 안에 가상의 파란 점을 찍을 때(밀도 표현) 사용
# =========================
# [점 하나당 면적]
# "몇 제곱미터(m²)당 점을 1개 찍을 것인가?"를 의미합니다.
# 값이 800이면: 영역 넓이가 1600m²일 때 -> 2개의 점을 생성.
# 값이 작을수록(예: 100): 점이 빽빽하게 찍힘 (고밀도)
# 값이 클수록(예: 2000): 점이 듬성듬성 찍힘 (저밀도)
AREA_PER_POINT = 400


# =========================
# DBSCAN으로 묶을 점들 최소 수
MIN_SAMPLES = 1
# =========================